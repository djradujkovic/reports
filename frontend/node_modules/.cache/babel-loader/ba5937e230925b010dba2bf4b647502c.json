{"ast":null,"code":"var _jsxFileName = \"/home/djole/Documents/fullstack/sluzba/frontend/src/components/Table/SubTable.js\",\n    _s = $RefreshSig$();\n\nimport { GetDataById } from \"../../helpers/GetStates\";\nimport FindParent from \"../../helpers/FindParent\";\nimport Form from \"../Form/Form\";\nimport { GetDefaultData } from \"../../helpers/GetDefaultData\";\nimport { useEffect, useState } from \"react\"; // export const SubTableLogic = ({ page, id }) => {\n//   const [pages, setPages] = useState([{ page: page, id: id }]);\n//   return <SubTable pages={pages} setPages={setPages} />;\n// };\n// const SubPageLogic = (page, id, data, pages, setPages) => {\n//   // const data = GetDataById(page.key, id);\n//   return SubFieldsLogic(data, page, pages, setPages);\n// };\n// const SubFieldsLogic = (data, page, pages, setPages) => {\n//   // console.log(pages);\n//   page.fields.forEach((field) => {\n//     if (field.options) {\n//       const parent = FindParent(field);\n//       const parentMore = { page: parent, id: data[field.key] };\n//       // console.log(data[field.key]);\n//       // console.log(id);\n//       // pages.push(parentMore);\n//       if (!pages.find((p) => p.page.key === parent.key)) {\n//         setPages((oldPages) => [...oldPages, parentMore]);\n//       }\n//       //  else {\n//       // if(data[field.key])\n//       // setPages(oldPages => [...oldPages])\n//       // }\n//       // if (data[field.key] !== 0) {\n//       // SubPageLogic(parent, data[field.key], pages, setPages);\n//       // }\n//     }\n//   });\n// };\n// const SubTable = ({ pages, setPages }) => {\n//   // console.log(pages);\n//   return pages.map((page) => {\n//     return (\n//       <SubPage\n//         key={page.page.key}\n//         id={page.id}\n//         page={page.page}\n//         pages={pages}\n//         setPages={setPages}\n//       />\n//     );\n//   });\n// };\n// const SubPage = ({ page, id, pages, setPages }) => {\n//   const data = GetDataById(page.key, id);\n//   const defaultData = GetDefaultData(page);\n//   const [fullData, setFullData] = useState(data ? data : defaultData);\n//   // useEffect(() => {\n//   //   if (data) {\n//   //     setFullData(data);\n//   //   } else {\n//   //     setFullData(defaultData);\n//   //   }\n//   // }, [data]);\n//   // console.log(data);data ? data : defaultData,\n//   // console.log(defaultData);\n//   // const [data, setData] =\n//   SubPageLogic(page, id, fullData, pages, setPages);\n//   return (\n//     // {/* <div className=\"head\">{page.name}</div> */}\n//     <Form active={id} defaultData={data ? data : defaultData} page={page} />\n//     // {/* <SubFields data={data} page={page} /> */}\n//   );\n// };\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SubTableLogic = ({\n  page,\n  id\n}) => {\n  _s();\n\n  const [pages, setPages] = useState([{\n    page: page,\n    id: id\n  }]);\n  return pages.map(page => {\n    return /*#__PURE__*/_jsxDEV(SubPage, {\n      page: page.page,\n      id: page.id,\n      pages: pages,\n      setPages: setPages\n    }, page.page.key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  });\n};\n\n_s(SubTableLogic, \"uhKOBOABF25lySCX2thHyF7mkKk=\");\n\n_c = SubTableLogic;\nexport const GetAllPages = (page, data, pages, setPages) => {\n  page.fields.forEach(field => {\n    if (field.options) {\n      if (!pages.find(page => page.page.key === field.options)) {\n        const parent = FindParent(field);\n        const parentMore = {\n          page: parent,\n          id: data[field.key]\n        };\n        setPages(oldPages => [...oldPages, parentMore]);\n      }\n    }\n  });\n};\n_c2 = GetAllPages;\n\nconst SubPage = ({\n  page,\n  id,\n  pages,\n  setPages\n}) => {\n  const data = GetDataById(page.key, id, pages, setPages);\n  GetAllPages(page, data);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    active: id,\n    page: page\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 10\n  }, this);\n}; // export default SubTable;\n\n\n_c3 = SubPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SubTableLogic\");\n$RefreshReg$(_c2, \"GetAllPages\");\n$RefreshReg$(_c3, \"SubPage\");","map":{"version":3,"sources":["/home/djole/Documents/fullstack/sluzba/frontend/src/components/Table/SubTable.js"],"names":["GetDataById","FindParent","Form","GetDefaultData","useEffect","useState","SubTableLogic","page","id","pages","setPages","map","key","GetAllPages","data","fields","forEach","field","options","find","parent","parentMore","oldPages","SubPage"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,yBAA5B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAkB;AAAA;;AAC7C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,CAAC;AAAEE,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,EAAE,EAAEA;AAAlB,GAAD,CAAD,CAAlC;AACA,SAAOC,KAAK,CAACE,GAAN,CAAWJ,IAAD,IAAU;AACzB,wBACE,QAAC,OAAD;AAEE,MAAA,IAAI,EAAEA,IAAI,CAACA,IAFb;AAGE,MAAA,EAAE,EAAEA,IAAI,CAACC,EAHX;AAIE,MAAA,KAAK,EAAEC,KAJT;AAKE,MAAA,QAAQ,EAAEC;AALZ,OACOH,IAAI,CAACA,IAAL,CAAUK,GADjB;AAAA;AAAA;AAAA;AAAA,YADF;AASD,GAVM,CAAP;AAWD,CAbM;;GAAMN,a;;KAAAA,a;AAeb,OAAO,MAAMO,WAAW,GAAG,CAACN,IAAD,EAAOO,IAAP,EAAaL,KAAb,EAAoBC,QAApB,KAAiC;AAC1DH,EAAAA,IAAI,CAACQ,MAAL,CAAYC,OAAZ,CAAqBC,KAAD,IAAW;AAC7B,QAAIA,KAAK,CAACC,OAAV,EAAmB;AACjB,UAAI,CAACT,KAAK,CAACU,IAAN,CAAYZ,IAAD,IAAUA,IAAI,CAACA,IAAL,CAAUK,GAAV,KAAkBK,KAAK,CAACC,OAA7C,CAAL,EAA4D;AAC1D,cAAME,MAAM,GAAGnB,UAAU,CAACgB,KAAD,CAAzB;AACA,cAAMI,UAAU,GAAG;AAAEd,UAAAA,IAAI,EAAEa,MAAR;AAAgBZ,UAAAA,EAAE,EAAEM,IAAI,CAACG,KAAK,CAACL,GAAP;AAAxB,SAAnB;AACAF,QAAAA,QAAQ,CAAEY,QAAD,IAAc,CAAC,GAAGA,QAAJ,EAAcD,UAAd,CAAf,CAAR;AACD;AACF;AACF,GARD;AASD,CAVM;MAAMR,W;;AAYb,MAAMU,OAAO,GAAG,CAAC;AAAEhB,EAAAA,IAAF;AAAQC,EAAAA,EAAR;AAAYC,EAAAA,KAAZ;AAAmBC,EAAAA;AAAnB,CAAD,KAAmC;AACjD,QAAMI,IAAI,GAAGd,WAAW,CAACO,IAAI,CAACK,GAAN,EAAWJ,EAAX,EAAeC,KAAf,EAAsBC,QAAtB,CAAxB;AAEAG,EAAAA,WAAW,CAACN,IAAD,EAAOO,IAAP,CAAX;AAEA,sBAAO,QAAC,IAAD;AAAM,IAAA,MAAM,EAAEN,EAAd;AAAkB,IAAA,IAAI,EAAED;AAAxB;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAND,C,CAQA;;;MARMgB,O","sourcesContent":["import { GetDataById } from \"../../helpers/GetStates\";\nimport FindParent from \"../../helpers/FindParent\";\nimport Form from \"../Form/Form\";\nimport { GetDefaultData } from \"../../helpers/GetDefaultData\";\nimport { useEffect, useState } from \"react\";\n\n// export const SubTableLogic = ({ page, id }) => {\n//   const [pages, setPages] = useState([{ page: page, id: id }]);\n//   return <SubTable pages={pages} setPages={setPages} />;\n// };\n\n// const SubPageLogic = (page, id, data, pages, setPages) => {\n//   // const data = GetDataById(page.key, id);\n//   return SubFieldsLogic(data, page, pages, setPages);\n// };\n\n// const SubFieldsLogic = (data, page, pages, setPages) => {\n//   // console.log(pages);\n//   page.fields.forEach((field) => {\n//     if (field.options) {\n//       const parent = FindParent(field);\n//       const parentMore = { page: parent, id: data[field.key] };\n//       // console.log(data[field.key]);\n//       // console.log(id);\n//       // pages.push(parentMore);\n//       if (!pages.find((p) => p.page.key === parent.key)) {\n//         setPages((oldPages) => [...oldPages, parentMore]);\n//       }\n//       //  else {\n//       // if(data[field.key])\n//       // setPages(oldPages => [...oldPages])\n//       // }\n//       // if (data[field.key] !== 0) {\n//       // SubPageLogic(parent, data[field.key], pages, setPages);\n//       // }\n//     }\n//   });\n// };\n\n// const SubTable = ({ pages, setPages }) => {\n//   // console.log(pages);\n//   return pages.map((page) => {\n//     return (\n//       <SubPage\n//         key={page.page.key}\n//         id={page.id}\n//         page={page.page}\n//         pages={pages}\n//         setPages={setPages}\n//       />\n//     );\n//   });\n// };\n\n// const SubPage = ({ page, id, pages, setPages }) => {\n//   const data = GetDataById(page.key, id);\n//   const defaultData = GetDefaultData(page);\n\n//   const [fullData, setFullData] = useState(data ? data : defaultData);\n//   // useEffect(() => {\n//   //   if (data) {\n//   //     setFullData(data);\n//   //   } else {\n//   //     setFullData(defaultData);\n//   //   }\n//   // }, [data]);\n//   // console.log(data);data ? data : defaultData,\n//   // console.log(defaultData);\n//   // const [data, setData] =\n\n//   SubPageLogic(page, id, fullData, pages, setPages);\n//   return (\n//     // {/* <div className=\"head\">{page.name}</div> */}\n//     <Form active={id} defaultData={data ? data : defaultData} page={page} />\n//     // {/* <SubFields data={data} page={page} /> */}\n//   );\n// };\n\nexport const SubTableLogic = ({ page, id }) => {\n  const [pages, setPages] = useState([{ page: page, id: id }]);\n  return pages.map((page) => {\n    return (\n      <SubPage\n        key={page.page.key}\n        page={page.page}\n        id={page.id}\n        pages={pages}\n        setPages={setPages}\n      />\n    );\n  });\n};\n\nexport const GetAllPages = (page, data, pages, setPages) => {\n  page.fields.forEach((field) => {\n    if (field.options) {\n      if (!pages.find((page) => page.page.key === field.options)) {\n        const parent = FindParent(field);\n        const parentMore = { page: parent, id: data[field.key] };\n        setPages((oldPages) => [...oldPages, parentMore]);\n      }\n    }\n  });\n};\n\nconst SubPage = ({ page, id, pages, setPages }) => {\n  const data = GetDataById(page.key, id, pages, setPages);\n\n  GetAllPages(page, data);\n\n  return <Form active={id} page={page} />;\n};\n\n// export default SubTable;\n"]},"metadata":{},"sourceType":"module"}